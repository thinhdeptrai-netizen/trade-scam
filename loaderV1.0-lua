local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- 🖥️ GUI chính
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CustomToggleUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- 🔲 NÚT MỞ MENU (hình vuông)
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 50, 0, 50)
toggleButton.Position = UDim2.new(0, 20, 0, 20)
toggleButton.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
toggleButton.Text = "R4USEN1A"
toggleButton.Font = Enum.Font.SourceSansBold
toggleButton.TextSize = 24
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Parent = screenGui

-- 📋 MENU LỚN
local mainMenu = Instance.new("Frame")
mainMenu.Size = UDim2.new(0, 300, 0, 250)
mainMenu.Position = UDim2.new(0.5, -150, 0.5, -125)
mainMenu.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainMenu.Active = true
mainMenu.Draggable = true -- ✅ KÉO ĐƯỢC
mainMenu.Visible = false
mainMenu.Parent = screenGui

-- UI Layout
local layout = Instance.new("UIListLayout", mainMenu)
layout.Padding = UDim.new(0, 15)
layout.FillDirection = Enum.FillDirection.Vertical
layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
layout.VerticalAlignment = Enum.VerticalAlignment.Center

-- 🔘 HÀM TẠO NÚT
local function createButton(text, callback)
	local button = Instance.new("TextButton")
	button.Size = UDim2.new(0, 220, 0, 50)
	button.Text = text
	button.Font = Enum.Font.SourceSansBold
	button.TextSize = 20
	button.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Parent = mainMenu
	button.MouseButton1Click:Connect(callback)
	return button
end

-- 🌟 NÚT 1: SPAWN PET VISUAL
local spawnButton
spawnButton = createButton("SPAWN PET VISUAL", function()
	spawnButton.Text = "THÀNH CÔNG"
	wait(1)
	TeleportService:Teleport(game.PlaceId) -- 🔄 Rejoin chính game hiện tại
end)

-- 🔘 NÚT 2: KHÔNG CÓ CHỨC NĂNG
createButton("NÚT 2", function()
	-- Không làm gì cả
end)

-- 🔴 NÚT 3: LEAVE GAME
createButton("LEAVE", function()
	TeleportService:Teleport(1) -- ID không tồn tại để "thoát game"
end)

-- 📌 Toggle MENU
toggleButton.MouseButton1Click:Connect(function()
	mainMenu.Visible = not mainMenu.Visible
end)
